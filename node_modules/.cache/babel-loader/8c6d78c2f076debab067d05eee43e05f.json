{"ast":null,"code":"import _classCallCheck from\"/Users/taekyoungkwon/epidemic-watch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/taekyoungkwon/epidemic-watch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/taekyoungkwon/epidemic-watch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/taekyoungkwon/epidemic-watch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/taekyoungkwon/epidemic-watch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./App.css';import Chart from\"react-google-charts\";var Maps=/*#__PURE__*/function(_Component){_inherits(Maps,_Component);function Maps(){var _getPrototypeOf2;var _this;_classCallCheck(this,Maps);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Maps)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={// State to hold JSON data\nitems:[],isLoaded:false};return _this;}_createClass(Maps,[{key:\"componentDidMount\",/**\n     * Fetches data from API and loads state.\n     */value:function componentDidMount(){var _this2=this;fetch('https://covidtracking.com/api/states/daily').then(function(res){return res.json();}).then(function(data){_this2.setState({items:data,isLoaded:true});});}/**\n     * Renders map using google chart\n     *\n     * @return {html} html to render.\n     */},{key:\"render\",value:function render(){var _this$state=this.state,items=_this$state.items,isLoaded=_this$state.isLoaded;if(!isLoaded){// Check if data is loaded\nreturn React.createElement(\"div\",null,\"Loading...\");}var array=items.map(function(item){// JSON to array conversion\nreturn Object.values(item);});var idxToDelete=[0,3,4,5,7];// array of columns to delete\nfor(var i=0;i<array.length;i++){// loop to delete indices from array\nvar temp=array[i];array[i]=[];for(var j=0;j<temp.length;j++){if(idxToDelete.indexOf(j)==-1)// dont delete\n{array[i].push(temp[j]);}}}array.unshift(['State','Confirmed Cases','Tests Done']);// append headers\nconsole.log(array);var spliced=array.slice(0,57);// get first 57 entries\nreturn React.createElement(\"div\",{id:\"map\",style:{display:'flex',maxWidth:900}},React.createElement(Chart,{width:1000,height:700,chartType:\"GeoChart\",loader:React.createElement(\"div\",null,\"Loading Chart\"),data:spliced,options:{sizeAxis:{minValue:0,maxValue:100},region:'US',resolution:'provinces',colorAxis:{colors:['#edf8b1','#7fcdbb','#2c7fb8']}}}));}}]);return Maps;}(Component);export default Maps;","map":{"version":3,"sources":["/Users/taekyoungkwon/epidemic-watch/src/Maps.js"],"names":["React","Component","Chart","Maps","state","items","isLoaded","fetch","then","res","json","data","setState","array","map","item","Object","values","idxToDelete","i","length","temp","j","indexOf","push","unshift","console","log","spliced","slice","display","maxWidth","sizeAxis","minValue","maxValue","region","resolution","colorAxis","colors"],"mappings":"gxBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,C,GAEMC,CAAAA,I,uXAEFC,K,CAAQ,CAAQ;AACZC,KAAK,CAAE,EADH,CAEJC,QAAQ,CAAE,KAFN,C,2DAKR;;yCAGoB,iBAChBC,KAAK,CAAC,4CAAD,CAAL,CACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAI,CACV,MAAI,CAACC,QAAL,CAAc,CACVP,KAAK,CAAEM,IADG,CAEVL,QAAQ,CAAE,IAFA,CAAd,EAIH,CAPL,EAQH,CACD;;;;8CAKS,iBACqB,KAAKF,KAD1B,CACCC,KADD,aACCA,KADD,CACQC,QADR,aACQA,QADR,CAGL,GAAI,CAACA,QAAL,CAAe,CAAI;AACf,MAAO,6CAAP,CACH,CAED,GAAIO,CAAAA,KAAK,CAAGR,KAAK,CAACS,GAAN,CAAU,SAASC,IAAT,CAAe,CAAG;AACpC,MAAOC,CAAAA,MAAM,CAACC,MAAP,CAAcF,IAAd,CAAP,CACD,CAFS,CAAZ,CAIA,GAAIG,CAAAA,WAAW,CAAG,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAS,CAAT,CAAlB,CAAgC;AAEhC,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGN,KAAK,CAACO,MAA1B,CAAkCD,CAAC,EAAnC,CAAuC,CAAK;AACxC,GAAIE,CAAAA,IAAI,CAAGR,KAAK,CAACM,CAAD,CAAhB,CACAN,KAAK,CAACM,CAAD,CAAL,CAAW,EAAX,CACA,IAAI,GAAIG,CAAAA,CAAC,CAAG,CAAZ,CAAgBA,CAAC,CAAGD,IAAI,CAACD,MAAzB,CAAkCE,CAAC,EAAnC,CAAsC,CAClC,GAAGJ,WAAW,CAACK,OAAZ,CAAoBD,CAApB,GAA0B,CAAC,CAA9B,CAAoC;AACpC,CACIT,KAAK,CAACM,CAAD,CAAL,CAASK,IAAT,CAAcH,IAAI,CAACC,CAAD,CAAlB,EACH,CACJ,CACJ,CAEDT,KAAK,CAACY,OAAN,CAAc,CAAC,OAAD,CAAU,iBAAV,CAA6B,YAA7B,CAAd,EAA4D;AAE5DC,OAAO,CAACC,GAAR,CAAYd,KAAZ,EAEA,GAAIe,CAAAA,OAAO,CAAGf,KAAK,CAACgB,KAAN,CAAY,CAAZ,CAAe,EAAf,CAAd,CAAoC;AAEpC,MACI,4BAAK,EAAE,CAAC,KAAR,CAAc,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,QAAQ,CAAE,GAA7B,CAArB,EACI,oBAAC,KAAD,EACI,KAAK,CAAE,IADX,CAEI,MAAM,CAAE,GAFZ,CAGI,SAAS,CAAC,UAHd,CAII,MAAM,CAAE,+CAJZ,CAKI,IAAI,CAAGH,OALX,CAMI,OAAO,CAAE,CACLI,QAAQ,CAAE,CAAEC,QAAQ,CAAE,CAAZ,CAAeC,QAAQ,CAAE,GAAzB,CADL,CAELC,MAAM,CAAE,IAFH,CAGLC,UAAU,CAAE,WAHP,CAILC,SAAS,CAAE,CAACC,MAAM,CAAE,CAAC,SAAD,CAAY,SAAZ,CAAuB,SAAvB,CAAT,CAJN,CANb,EADJ,CADJ,CAiBH,C,kBAxEcrC,S,EA2EnB,cAAeE,CAAAA,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Chart from \"react-google-charts\";\n\nclass Maps extends Component {\n\n    state = {       // State to hold JSON data\n        items: [],\n        isLoaded: false,\n    }\n\n    /**\n     * Fetches data from API and loads state.\n     */\n    componentDidMount() {\n        fetch('https://covidtracking.com/api/states/daily')\n            .then(res => res.json())\n            .then(data => {\n                this.setState({\n                    items: data,\n                    isLoaded: true,\n                })\n            });\n    }\n    /**\n     * Renders map using google chart\n     *\n     * @return {html} html to render.\n     */\n    render() {\n        var { items, isLoaded } = this.state;\n\n        if (!isLoaded) {   // Check if data is loaded\n            return <div>Loading...</div>\n        }\n\n        var array = items.map(function(item) {  // JSON to array conversion\n            return Object.values(item);\n          });\n\n        var idxToDelete = [0,3,4,5,7];  // array of columns to delete\n\n        for (var i = 0; i < array.length; i++) {    // loop to delete indices from array\n            var temp = array[i];\n            array[i] = [];\n            for(var j = 0 ; j < temp.length ; j++){\n                if(idxToDelete.indexOf(j) == -1)    // dont delete\n                {\n                    array[i].push(temp[j]);\n                }\n            }\n        }\n\n        array.unshift(['State', 'Confirmed Cases', 'Tests Done']);  // append headers\n\n        console.log(array);\n        \n        var spliced = array.slice(0, 57);   // get first 57 entries\n\n        return (\n            <div id=\"map\" style={{ display: 'flex', maxWidth: 900 }}>\n                <Chart\n                    width={1000}\n                    height={700}\n                    chartType=\"GeoChart\"\n                    loader={<div>Loading Chart</div>}\n                    data={ spliced }\n                    options={{\n                        sizeAxis: { minValue: 0, maxValue: 100 },\n                        region: 'US',\n                        resolution: 'provinces',\n                        colorAxis: {colors: ['#edf8b1', '#7fcdbb', '#2c7fb8']},\n                    }}\n                />\n            </div>\n        )\n    }\n}\n\nexport default Maps;"]},"metadata":{},"sourceType":"module"}